<app-custom-header [title]="'Settings'"></app-custom-header>

<ion-content>
  <div class="settings-container">
    <div class="profile-section">
      <div class="profile-image-container">
        <div class="profile-image">
          <img [src]="userProfile.photoUrl" alt="Profile Photo">
          <ion-button fill="clear" class="edit-photo-btn">
            <ion-icon name="camera-outline"></ion-icon>
          </ion-button>
        </div>
      </div>
      <div class="profile-info">
        <h2 class="profile-name">{{ userApp?.name }}</h2>
        <p class="profile-email">{{ userApp?.email }}</p>
      </div>
    </div>

    <div class="settings-sections">
      <div class="settings-section">
        <div class="section-header">
          <ion-icon name="person-outline"></ion-icon>
          <h3>Account</h3>
        </div>
        <ion-list lines="full" class="settings-list">
          <ion-item detail="true">
            <ion-label>Edit Profile</ion-label>
          </ion-item>
          <ion-item detail="true">
            <ion-label>Change Password</ion-label>
          </ion-item>
        </ion-list>
      </div>

      <div class="settings-section">
        <div class="section-header">
          <ion-icon name="color-palette-outline"></ion-icon>
          <h3>Appearance</h3>
        </div>
        <ion-list lines="full" class="settings-list">
          <ion-item>
            <ion-label>Dark Mode</ion-label>
            <ion-toggle [(ngModel)]="settings.darkMode" slot="end"></ion-toggle>
          </ion-item>
          <ion-item detail="true">
            <ion-label>Theme Color</ion-label>
            <div class="color-preview" [style.background-color]="settings.themeColor" slot="end"></div>
          </ion-item>
        </ion-list>
      </div>

      <div class="settings-section">
        <div class="section-header">
          <ion-icon name="options-outline"></ion-icon>
          <h3>Preferences</h3>
        </div>
        <ion-list lines="full" class="settings-list">
          <ion-item detail="true">
            <ion-label>Default List</ion-label>
            <ion-note slot="end">{{ settings.defaultList }}</ion-note>
          </ion-item>
          <ion-item>
            <ion-label>Show Completed Tasks</ion-label>
            <ion-toggle [(ngModel)]="settings.showCompletedTasks" slot="end"></ion-toggle>
          </ion-item>
          <ion-item>
            <ion-label>Remind Due Dates</ion-label>
            <ion-toggle [(ngModel)]="settings.remindDueDates" slot="end"></ion-toggle>
          </ion-item>
        </ion-list>
      </div>

      <div class="settings-section">
        <div class="section-header">
          <ion-icon name="cloud-outline"></ion-icon>
          <h3>Data & Sync</h3>
        </div>
        <ion-list lines="full" class="settings-list">
          <ion-item>
            <ion-label>Sync Across Devices</ion-label>
            <ion-toggle [(ngModel)]="settings.syncEnabled" slot="end"></ion-toggle>
          </ion-item>
          <ion-item detail="true">
            <ion-label>Export Data</ion-label>
          </ion-item>
          <ion-item detail="true">
            <ion-label>Import Data</ion-label>
          </ion-item>
        </ion-list>
      </div>

      <ion-button expand="block" color="medium" class="logout-button" (click)="logout()">
        <ion-icon name="log-out-outline" slot="start"></ion-icon>
        Log Out
      </ion-button>

      <div class="app-version">
        <p>App Version: 1.0.0</p>
      </div>
    </div>
  </div>
</ion-content>
